(function(t){function e(e){for(var a,s,o=e[0],i=e[1],u=e[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},c=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/jsdelivr_test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0549":function(t,e,n){"use strict";n("cd9f")},2860:function(t,e,n){"use strict";n("9775")},"36fb":function(t,e,n){},4365:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=(n("96cf"),n("1da1")),c=(n("99af"),n("d3b7"),n("ac1f"),n("5319"),n("498a"),"https://registry.npmjs.org/-/v1/search"),s="https://cors-anywhere.herokuapp.com/",o="https://data.jsdelivr.com/v1/package/npm/",i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fetch("".concat(s).concat(t).concat(e)).then((function(t){if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));return t.json()}))},u=function(t,e){var n=t.replace(/\s+/g,"+").trim();return i(c,"?text=".concat(n,"&size=").concat(e))},l=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i("".concat(o,"/").concat(e));case 2:return t.t0=t.sent,t.next=5,i("".concat(o,"/").concat(e,"/stats"));case 5:return t.t1=t.sent,t.abrupt("return",{versions:t.t0,rating:t.t1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p={actions:{fetchPackages:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=t,n.next=3,u(e,200);case 3:n.t1=n.sent,n.t2={prop:"searchResult",result:n.t1},n.t0.commit.call(n.t0,"updateState",n.t2);case 6:case"end":return n.stop()}}),n)})))()},fetchPackage:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=t,n.next=3,l(e.text,e.version);case 3:n.t1=n.sent,n.t2={prop:"currentPackage",result:n.t1},n.t0.commit.call(n.t0,"updateState",n.t2);case 6:case"end":return n.stop()}}),n)})))()}},mutations:{updateState:function(t,e){t[e.prop]=e.result}},state:{currentPackage:null,searchResult:[]},getters:{getPackages:function(t){return t.searchResult.objects},getPackage:function(t){return t.currentPackage}}},f=n("2f62");a["default"].use(f["a"]);var d=new f["a"].Store({modules:{searchStore:p}}),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Content")],1)},h=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content bg-dark"},[n("router-view")],1)},v=[],b={name:"Content"},k=b,y=(n("0549"),n("2877")),j=Object(y["a"])(k,m,v,!1,null,"cca5254e",null),w=j.exports,x={name:"App",components:{Content:w}},P=x,_=(n("034f"),Object(y["a"])(P,g,h,!1,null,null,null)),O=_.exports,C=n("8832"),q=n.n(C),S=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container pt-3"},[n("b-form-input",{staticClass:"text-center mb-5",attrs:{placeholder:"Search",size:"lg",type:"text"},on:{input:t.search},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t.loading?n("div",[n("Loader")],1):n("div",t._l(t.items,(function(e,a){return n("b-card",{key:a,staticClass:"mb-3 card",attrs:{title:e.package.name,"sub-title":"Last version "+e.package.version},on:{click:function(n){return t.showFullInformation(e.package.name,e.package.version,e.package.description)}}},[n("b-card-text",[t._v(" "+t._s(e.package.description)+" ")])],1)})),1),t.items.length>0?n("div",[n("Paginate",{attrs:{"page-count":t.pageCount,"click-handler":t.pageChangeHandler,"prev-text":"Prev","next-text":"Next","container-class":"pagination2"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e(),t.showModal?n("Package",{attrs:{name:t.packageName,version:t.packageVersion,description:t.packageDescription},on:{close:t.closeModal}}):t._e()],1)},M=[],R=n("5530"),I=n("2ef0"),E=n.n(I),L={data:function(){return{page:+this.$route.query.page||1,pageCount:0,pageSize:10,allItems:[],items:[]}},methods:{initPagination:function(t){this.allItems=E.a.chunk(t,this.pageSize),this.pageCount=E.a.size(this.allItems),this.items=this.allItems[this.page-1]||this.allItems[0]},pageChangeHandler:function(t){this.$router.replace({path:"",query:Object(R["a"])(Object(R["a"])({},this.$route.query),{},{page:t})}),this.items=this.allItems[t-1]||this.allItems[0]}}},T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[t.loading?n("div",{staticClass:"mt-5"},[n("Loader")],1):n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header d-flex justify-content-between align-items-center"},[n("h4",{attrs:{name:"header"}},[t._v(" "+t._s(this.name+"@"+this.version)+" ")]),n("div",[t._v("Rank: "+t._s(t.getPackage.rating.rank))])]),n("div",{staticClass:"modal-body text-left"},[t._t("body",[n("div",{staticClass:"mb-3"},[t._v(t._s(this.description))]),n("h5",{staticClass:"text-left"},[t._v("List of versions:")]),t._l(t.getPackage.versions.versions,(function(e,a){return n("span",{key:a,staticClass:"version text-left"},[t._v(" "+t._s(e)+" ")])}))])],2),n("div",{staticClass:"modal-footer"},[t._t("footer",[n("button",{staticClass:"modal-default-button btn btn-primary",on:{click:function(e){return t.$emit("close")}}},[t._v(" Close ")])])],2)])])])])},z=[],N=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader triangle"},[n("svg",{attrs:{viewBox:"0 0 86 80"}},[n("polygon",{attrs:{points:"43 8 79 72 7 72"}})])])}),D=[],V=(n("2860"),{}),F=Object(y["a"])(V,N,D,!1,null,"3c920c33",null),H=F.exports,J={props:{name:String,version:String,description:String},components:{Loader:H},methods:Object(R["a"])({},Object(f["b"])(["fetchPackage"])),data:function(){return{loading:!0}},watch:{getPackage:function(){this.getPackage.rating.rank>-1&&(this.loading=!1)}},computed:Object(R["a"])({},Object(f["c"])(["getPackage"])),mounted:function(){this.fetchPackage({text:this.name})}},A=J,B=(n("60cf"),Object(y["a"])(A,T,z,!1,null,"0c128efd",null)),G=B.exports,K={name:"Search",mixins:[L],components:{Package:G,Loader:H},computed:Object(R["a"])({},Object(f["c"])(["getPackages"])),watch:{getPackages:function(){this.getPackages.length&&(this.initPagination(this.getPackages),this.loading=!1)},$route:function(t){this.page=+t.query.page}},data:function(){return{query:this.$route.query.q||"",debounce:null,showModal:!1,packageName:null,packageVersion:null,packageDescription:null,loading:!1}},methods:Object(R["a"])(Object(R["a"])({},Object(f["b"])(["fetchPackages"])),{},{closeModal:function(){this.showModal=!1},search:function(t){var e=this;clearTimeout(this.debounce),t&&(this.debounce=setTimeout((function(){e.fetchPackages(t),e.loading=!0,e.$router.push({path:"",query:Object(R["a"])(Object(R["a"])({},e.$route.query),{},{q:t})})}),600))},setPackages:function(t){return t},showFullInformation:function(t,e,n){this.packageDescription=n,this.packageName=t,this.packageVersion=e,this.showModal=!0}}),mounted:function(){this.query&&(this.loading=!0,this.fetchPackages(this.query))}},Q=K,U=(n("e589"),Object(y["a"])(Q,$,M,!1,null,null,null)),W=U.exports,X=new S["a"]({mode:"history",base:"/jsdelivr_test/",routes:[{name:"Search",path:"/",component:W,props:function(t){return{query:t.query.q,page:t.query.page}}}]}),Y=n("5f5b");n("f9e3"),n("2dd8");a["default"].config.productionTip=!1,a["default"].use(S["a"]),a["default"].use(Y["a"]),a["default"].component("Paginate",q.a),new a["default"]({store:d,router:X,render:function(t){return t(O)}}).$mount("#app")},"60cf":function(t,e,n){"use strict";n("36fb")},"85ec":function(t,e,n){},9775:function(t,e,n){},cd9f:function(t,e,n){},e589:function(t,e,n){"use strict";n("4365")}});
//# sourceMappingURL=app.92791a6e.js.map